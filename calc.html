<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#0f0f0f;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Segoe UI, Roboto, sans-serif;
  color:#fff;
}

.container{
  position:relative;
}

/* ---------- CALCULATOR ---------- */
.calculator{
  width:320px;
  background:#1b1b1b;
  border-radius:8px;
  padding:10px;
}

.display{
  background:#000;
  border-radius:6px;
  padding:10px;
  min-height:80px;
}

.history{
  font-size:12px;
  color:#aaa;
  text-align:right;
}

.input{
  font-size:28px;
  text-align:right;
  margin-top:6px;
  word-break:break-all;
}

.buttons{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:6px;
  margin-top:10px;
}

button{
  height:52px;
  font-size:18px;
  background:#2a2a2a;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

button:active{ background:#3a3a3a; }
.operator{ background:#333; }
.equal{ background:#0078d4; grid-column:span 4; }
.clear{ background:#8b0000; }

.hidden{ display:none; }

/* ---------- VAULT ---------- */
.notes{
  width:320px;
  background:#1b1b1b;
  border-radius:8px;
  padding:10px;
  animation:fadeIn 0.4s ease;
}

.notes h3{
  font-weight:400;
  font-size:14px;
  opacity:0.6;
  text-align:center;
}

.notes textarea{
  width:100%;
  height:80px;
  background:#000;
  color:#fff;
  border:none;
  border-radius:6px;
  padding:8px;
  margin-top:8px;
  resize:none;
}

.note{
  background:#222;
  padding:8px;
  border-radius:6px;
  margin-top:6px;
  font-size:14px;
}

/* ---------- VAULT TRANSITION ---------- */
.overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  letter-spacing:2px;
  opacity:0;
  pointer-events:none;
}

.overlay.active{
  animation:unlock 0.8s ease forwards;
}

@keyframes unlock{
  0%{opacity:0}
  20%{opacity:1}
  80%{opacity:1}
  100%{opacity:0}
}

@keyframes fadeIn{
  from{opacity:0; transform:scale(0.98)}
  to{opacity:1; transform:scale(1)}
}
</style>
</head>

<body>

<div class="container">
  <div class="overlay" id="overlay">ACCESSING</div>

  <div class="calculator" id="calc">
    <div class="display">
      <div class="history" id="history"></div>
      <div class="input" id="input"></div>
    </div>

    <div class="buttons">
      <button onclick="p('7')">7</button>
      <button onclick="p('8')">8</button>
      <button onclick="p('9')">9</button>
      <button class="operator" onclick="p('/')">÷</button>

      <button onclick="p('4')">4</button>
      <button onclick="p('5')">5</button>
      <button onclick="p('6')">6</button>
      <button class="operator" onclick="p('*')">×</button>

      <button onclick="p('1')">1</button>
      <button onclick="p('2')">2</button>
      <button onclick="p('3')">3</button>
      <button class="operator" onclick="p('-')">−</button>

      <button onclick="p('0')">0</button>
      <button onclick="del()">DEL</button>
      <button class="clear" onclick="clr()">C</button>
      <button class="operator" onclick="p('+')">+</button>

      <button class="equal" onclick="calc()">=</button>
    </div>
  </div>

  <div class="notes hidden" id="notes">
    <h3>Notes</h3>
    <textarea id="noteText" placeholder="Write something..."></textarea>
    <button style="width:100%;margin-top:6px" onclick="add()">Save</button>
    <div id="noteList"></div>
    <button style="width:100%;margin-top:6px" onclick="exit()">Back</button>
  </div>
</div>

<script>
let input="",history=[],notes=[];
const inputEl=document.getElementById("input");
const historyEl=document.getElementById("history");
const overlay=document.getElementById("overlay");

function p(v){input+=v;u();}
function del(){input=input.slice(0,-1);u();}
function clr(){input="";u();}

function calc(){
  if(input==="69/67"){
    overlay.classList.add("active");
    setTimeout(()=>{
      document.getElementById("calc").classList.add("hidden");
      document.getElementById("notes").classList.remove("hidden");
      overlay.classList.remove("active");
    },700);
    return;
  }
  try{
    let r=eval(input);
    history.unshift(input+" = "+r);
    history=history.slice(0,4);
    input=r.toString();
  }catch{input="Error";}
  render();u();
}

function u(){inputEl.textContent=input;}
function render(){
  historyEl.innerHTML=history.map(h=>`<div>${h}</div>`).join("");
}

function add(){
  let t=document.getElementById("noteText").value.trim();
  if(!t)return;
  notes.push(t);
  document.getElementById("noteText").value="";
  show();
}

function show(){
  document.getElementById("noteList").innerHTML=
    notes.map(n=>`<div class="note">${n}</div>`).join("");
}

function exit(){
  document.getElementById("notes").classList.add("hidden");
  document.getElementById("calc").classList.remove("hidden");
}
</script>

</body>
</html>
