<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#0f0f0f;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Segoe UI, Roboto, sans-serif;
  color:#fff;
}

.container{ position:relative; }

/* ---------- CALCULATOR ---------- */
.calculator{
  width:320px;
  background:#1b1b1b;
  border-radius:8px;
  padding:10px;
}

.display{
  background:#000;
  border-radius:6px;
  padding:10px;
  min-height:80px;
}

.history{
  font-size:12px;
  color:#aaa;
  text-align:right;
}

.input{
  font-size:28px;
  text-align:right;
  margin-top:6px;
  word-break:break-all;
}

.buttons{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:6px;
  margin-top:10px;
}

button{
  height:52px;
  font-size:18px;
  background:#2a2a2a;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

button:active{ background:#3a3a3a; }
.operator{ background:#333; }
.equal{ background:#0078d4; grid-column:span 4; }
.clear{ background:#8b0000; }

.hidden{ display:none; }

/* ---------- GLITCH OVERLAY ---------- */
.overlay{
  position:absolute;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  letter-spacing:4px;
  color:#39ff14;
  opacity:0;
  pointer-events:none;
  text-shadow:
    2px 0 red,
   -2px 0 cyan;
}

.overlay.active{
  animation:glitchFlash 0.45s linear forwards;
}

@keyframes glitchFlash{
  0%{opacity:0; transform:none;}
  10%{opacity:1; transform:translateX(-2px);}
  20%{transform:translateX(2px);}
  30%{transform:translateY(-1px);}
  40%{transform:translateY(1px);}
  60%{opacity:1;}
  100%{opacity:0;}
}

/* ---------- VAULT ---------- */
.notes{
  width:320px;
  background:#0c0c0c;
  border-radius:8px;
  padding:14px;
  position:relative;
  overflow:hidden;
  animation:fadeIn 0.5s ease;
}

/* Scanlines */
.notes::before{
  content:"";
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events:none;
  animation:scan 6s linear infinite;
}

/* Grain */
.notes::after{
  content:"";
  position:absolute;
  inset:0;
  background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events:none;
}

.notes-header{
  text-align:center;
  font-size:12px;
  letter-spacing:4px;
  opacity:0.5;
  margin-bottom:10px;
}

.notes textarea{
  width:100%;
  height:70px;
  background:#000;
  color:#fff;
  border:1px solid #222;
  border-radius:6px;
  padding:8px;
  resize:none;
  outline:none;
}

.notes textarea:focus{
  box-shadow:0 0 14px rgba(57,255,20,0.5);
}

.notes-list{
  margin-top:12px;
  max-height:180px;
  overflow-y:auto;
}

.note{
  background:#111;
  padding:10px;
  border-radius:6px;
  margin-bottom:10px;
  box-shadow:0 10px 20px rgba(0,0,0,0.6);
  animation:float 6s ease-in-out infinite;
}

.note-time{
  font-size:11px;
  opacity:0.4;
  margin-bottom:4px;
}

.empty{
  text-align:center;
  font-size:13px;
  opacity:0.3;
  margin-top:30px;
}

@keyframes scan{
  from{background-position-y:0}
  to{background-position-y:100%}
}
@keyframes fadeIn{
  from{opacity:0; transform:scale(0.96)}
  to{opacity:1; transform:scale(1)}
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-2px)}
}
</style>
</head>

<body>

<div class="container">
  <div class="overlay" id="overlay">ACCESSING</div>

  <div class="calculator" id="calc">
    <div class="display">
      <div class="history" id="history"></div>
      <div class="input" id="input"></div>
    </div>

    <div class="buttons">
      <button onclick="p('7')">7</button>
      <button onclick="p('8')">8</button>
      <button onclick="p('9')">9</button>
      <button class="operator" onclick="p('/')">÷</button>
      <button onclick="p('4')">4</button>
      <button onclick="p('5')">5</button>
      <button onclick="p('6')">6</button>
      <button class="operator" onclick="p('*')">×</button>
      <button onclick="p('1')">1</button>
      <button onclick="p('2')">2</button>
      <button onclick="p('3')">3</button>
      <button class="operator" onclick="p('-')">−</button>
      <button onclick="p('0')">0</button>
      <button onclick="del()">DEL</button>
      <button class="clear" onclick="clr()">C</button>
      <button class="operator" onclick="p('+')">+</button>
      <button class="equal" onclick="calc()">=</button>
    </div>
  </div>

  <div class="notes hidden" id="notes">
    <div class="notes-header">VAULT</div>
    <textarea id="noteText" placeholder="For the record and only for those meant to find it..."></textarea>
    <button onclick="add()">Save</button>
    <div class="notes-list" id="noteList">
      <div class="empty">No entries detected</div>
    </div>
    <button onclick="exit()">Back</button>
  </div>
</div>

<script>
let input="",history=[],notes=[];
const inputEl=document.getElementById("input");
const historyEl=document.getElementById("history");
const overlay=document.getElementById("overlay");

function p(v){input+=v;u();}
function del(){input=input.slice(0,-1);u();}
function clr(){input="";u();}

function calc(){
  if(input==="69/67"){
    overlay.classList.add("active");
    setTimeout(()=>{
      document.getElementById("calc").classList.add("hidden");
      document.getElementById("notes").classList.remove("hidden");
      overlay.classList.remove("active");
    },450);
    return;
  }
  try{
    let r=eval(input);
    history.unshift(input+" = "+r);
    history=history.slice(0,4);
    input=r.toString();
  }catch{input="Error";}
  render();u();
}

function u(){inputEl.textContent=input;}
function render(){
  historyEl.innerHTML=history.map(h=>`<div>${h}</div>`).join("");
}

function add(){
  let t=document.getElementById("noteText").value.trim();
  if(!t)return;
  notes.unshift({text:t,time:new Date().toLocaleString()});
  document.getElementById("noteText").value="";
  show();
}

function show(){
  document.getElementById("noteList").innerHTML =
    notes.length
    ? notes.map(n=>`
      <div class="note">
        <div class="note-time">${n.time}</div>${n.text}
      </div>`).join("")
    : `<div class="empty">No entries detected</div>`;
}

function exit(){
  document.getElementById("notes").classList.add("hidden");
  document.getElementById("calc").classList.remove("hidden");
}
</script>

</body>
</html>
